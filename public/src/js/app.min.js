if(window.myNav=navigator.userAgent.toLowerCase(),window.myNav=-1!=window.myNav.indexOf("msie")?parseInt(window.myNav.split("msie")[1]):!1,window.myNav&&window.myNav<=8){var scr=document.getElementsByTagName("script"),lastSrcipt=scr[scr.length-1];lastSrcipt.insertAdjacentHTML("afterend",'<div id="old">Votre navigateur ne peut pas afficher les widgets PANIST, veuillez en utiliser un plus récent : Internet Explorer 9 ou plus, Google Chrome, Firefox,...</div>')}for(var scripts=document.getElementsByTagName("script"),isSlider=!1,i=0;i<scripts.length;i++)/\/rzslider.js/.test(scripts[i].src)&&(isSlider=!0);if(window.panistConfig.slider!==!1&&isSlider)var app=angular.module("app",["rzModule","ngSanitize","ui.select"]);else var app=angular.module("app",["ngSanitize","ui.select"]);app.config(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(!1)}]);var extend=function(objects){var extended={},merge=function(obj){for(var prop in obj)Object.prototype.hasOwnProperty.call(obj,prop)&&(extended[prop]=obj[prop])};merge(arguments[0]);for(var i=1;i<arguments.length;i++){var obj=arguments[i];merge(obj)}return extended};app.filter("proxify",function(){return function(input,panistApi){return null!=input&&"https://api.panist.fr"!==panistApi&&(input=input.replace("https://api.panist.fr",panistApi)),input}}),app.filter("capitalize",function(){return function(input,scope){return null!=input&&(input=input.toLowerCase()),void 0!=input?input.substring(0,1).toUpperCase()+input.substring(1):void 0}}),app.filter("numberize",function(){return function(input,scope){return null!=input&&(input=input.toString().replace(/(\d)(?=(\d{3})+$)/g,"$1 ")),input}}),app.filter("ellipse",function(){return function(input,wordwise,max,tail){if(!input)return"";if(max=parseInt(max,10),!max)return input;if(input.length<=max)return input;if(input=input.substr(0,max),wordwise){var lastspace=input.lastIndexOf(" ");-1!=lastspace&&(input=input.substr(0,lastspace))}return input+(tail||" …")}}),app.filter("languagize",function(){return function(input,traduction){if(!input)return"";if("en"===traduction)switch(input){case"fre":return"French";case"eng":return"English";case"lat":return"Latin";case"deu":return"German";case"ger":return"German";case"spa":return"Spanish";case"dut":return"Dutch";case"ita":return"Italian";case"por":return"Portuguese";case"rus":return"Russian";case"wel":return"Welsh";case"glg":return"Galician";case"grc":return"Greek";case"gre":return"Greek";case"ara":return"Arabian";case"heb":return"Hebrew";case"pol":return"Polish";case"dan":return"Danish";case"swe":return"Swedish";case"moh":return"Mohawk";case"syr":return"Syriac";case"per":return"Persian";case"frm":return"French, Middle";case"mul":return"Multiple languages";case"unknown":return"Unknown";default:return input}else switch(input){case"fre":return"Français";case"eng":return"Anglais";case"lat":return"Latin";case"deu":return"Allemand";case"ger":return"Allemand";case"spa":return"Espagnol";case"dut":return"Néerlandais";case"ita":return"Italien";case"por":return"Portugais";case"rus":return"Russe";case"wel":return"Gallois";case"glg":return"Galicien";case"grc":return"Grec";case"gre":return"Grec";case"ara":return"Arabe";case"heb":return"Hébreu";case"pol":return"Polonais";case"dan":return"Danois";case"swe":return"Suédois";case"moh":return"Mohawk";case"syr":return"Syriaque";case"per":return"Persan";case"frm":return"Français moyen";case"mul":return"Multilingue";case"unknown":return"Non spécifié";default:return input}}}),app.filter("sidize",function(){return function(input,scope){return-1!==input.indexOf("sid=")?input:input+=-1!==input.indexOf("?")?"&sid=panist-widgets":"?sid=panist-widgets"}}),app.directive("ngToggle",function(){function link($scope,element,attributes){element=element[0];var expression=attributes.ngToggle;$scope.$watch(expression,function(newValue,oldValue){newValue?element.style.opacity="1":element.style.opacity="0"})}return{link:link,restrict:"A"}}),app.directive("ngFocus",function(){function link($scope,element,attributes){element=element[0];var expression=attributes.ngFocus;$scope.$eval(expression)&&element.focus(),$scope.$watch(expression,function(newValue,oldValue){newValue!==oldValue&&(newValue?element.focus():element.blur())})}return{link:link,restrict:"A"}}),app.directive("panistFacets",function(){return{template:'<div id="panist-widget-facets" style="opacity: 1;" ng-controller="PanistfacetsCtrl" ng-toggle="showFacets && aggregations"><div class="panist-facets"><h3 class="panist-facets-title">{{ panistConfigDefault.labels.facets["title"] || "Affiner votre recherche" }}</h3><form class="panist-facets" ><div class="panist-facet" ng-repeat="(facetName, facet) in aggregations"><h4 class="panist-facet-name" ng-click="shownFacet = !shownFacet;">{{ (panistConfigDefault.labels.facets[facetName] || facetName) | capitalize }}<div ng-class="shownFacet ? \'icon arrow\' : \'icon arrow flipped\'" ng-style="shownFacet && { width: \'silver\', display: \'inline-block\'} || { color: \'gold\', display: \'inline-block\' }"></div></h4><div class="animate-switch-container" ng-switch on="facetName"><div class="panist-facet-checkbox corpus" ng-switch-when="corpusName" ng-if="shownFacet"><li ng-repeat="badge in facet.buckets"><label><input type="checkbox" ng-model="badge.isChecked" ng-click="submitFacetSearch(aggregations)">{{ badge.key | capitalize}}<span class="panist-facet-checkbox-badge" >{{ badge.docCount | numberize }}</span></label></li></div><div class="panist-facet-checkbox language" ng-switch-when="language" ng-if="shownFacet"><li ng-repeat="badge in facet.buckets"><label><input type="checkbox" ng-model="badge.isChecked" ng-click="submitFacetSearch(aggregations)">{{ badge.key | languagize:panistConfigDefault.labels.facets["traduction"] }}<span class="panist-facet-checkbox-badge" >{{ badge.docCount | numberize }}</span></label></li></div><div class="panist-facet-checkbox wos" ng-switch-when="categories.wos" ng-if="shownFacet"><li ng-repeat="badge in facet.buckets" title="{{badge.key | capitalize}}"><label><input type="checkbox" ng-model="badge.isChecked" ng-click="submitFacetSearch(aggregations)" >{{ badge.key  | capitalize | ellipse:false:27:"..."   }}<span class="panist-facet-checkbox-badge" >{{ badge.docCount | numberize }}</span></label></li></div><div class="panist-facet-checkbox wos" ng-switch-when="wos" ng-if="shownFacet">Un bug est survenu :/</div><div class="panist-facet-checkbox inist" ng-switch-when="categories.inist" ng-if="shownFacet"><li ng-repeat="badge in facet.buckets" title="{{badge.key | capitalize}}"><label><input type="checkbox" ng-model="badge.isChecked" ng-click="submitFacetSearch(aggregations)" >{{ badge.key  | capitalize | ellipse:false:27:"..."   }}<span class="panist-facet-checkbox-badge" >{{ badge.docCount | numberize }}</span></label></li></div><div class="panist-facet-checkbox inist" ng-switch-when="inist" ng-if="shownFacet">Un bug est survenu :/</div><div class="panist-facet-checkbox scopus" ng-switch-when="categories.scopus" ng-if="shownFacet"><li ng-repeat="badge in facet.buckets" title="{{badge.key | capitalize}}"><label><input type="checkbox" ng-model="badge.isChecked" ng-click="submitFacetSearch(aggregations)" >{{ badge.key  | capitalize | ellipse:false:27:"..."   }}<span class="panist-facet-checkbox-badge" >{{ badge.docCount | numberize }}</span></label></li></div><div class="panist-facet-checkbox scopus" ng-switch-when="scopus" ng-if="shownFacet">Un bug est survenu :/</div><div class="panist-facet-checkbox scienceMetrix" ng-switch-when="categories.scienceMetrix" ng-if="shownFacet"><li ng-repeat="badge in facet.buckets" title="{{badge.key | capitalize}}"><label><input type="checkbox" ng-model="badge.isChecked" ng-click="submitFacetSearch(aggregations)" >{{ badge.key  | capitalize | ellipse:false:27:"..."   }}<span class="panist-facet-checkbox-badge" >{{ badge.docCount | numberize }}</span></label></li></div><div class="panist-facet-checkbox scienceMetrix" ng-switch-when="scienceMetrix" ng-if="shownFacet">Un bug est survenu :/</div><div class="panist-facet-checkbox teeft" ng-switch-when="keywords.teeft" ng-if="shownFacet"><li ng-repeat="badge in facet.buckets" title="{{badge.key | capitalize}}"><label><input type="checkbox" ng-model="badge.isChecked" ng-click="submitFacetSearch(aggregations)" >{{ badge.key  | capitalize | ellipse:false:27:"..."   }}<span class="panist-facet-checkbox-badge" >{{ badge.docCount | numberize }}</span></label></li></div><div class="panist-facet-checkbox teeft" ng-switch-when="teeft" ng-if="shownFacet">Un bug est survenu :/</div><div class="panist-facet-copyrightdate" ng-switch-when="copyrightDate" ng-if="shownFacet"><div ng-if="!panistConfigDefault.slider">Entre <input type="number" min="{{ facet.buckets[0].fromAsString }}" max="{{ facet.buckets[0].toAsString }}" ng-model="facet.buckets[0].bot" ng-change="submitFacetSearch(aggregations)" > et <input type="number" min="{{ facet.buckets[0].fromAsString }}" max="{{ facet.buckets[0].toAsString }}" ng-model="facet.buckets[0].top" ng-change="submitFacetSearch(aggregations)" ></div><div ng-if="panistConfigDefault.slider"><rzslider class="rzslider" rz-slider-floor="facet.buckets[0].fromAsString" rz-slider-ceil="facet.buckets[0].toAsString" rz-slider-model="facet.buckets[0].bot" rz-slider-high="facet.buckets[0].top" rz-slider-step="1" ></rzslider></div></div><div class="panist-facet-pubdate" ng-switch-when="publicationDate" ng-if="shownFacet"><div ng-if="!panistConfigDefault.slider">Entre <input type="number" min="{{ facet.buckets[0].fromAsString }}" max="{{ facet.buckets[0].toAsString }}" ng-model="facet.buckets[0].bot" ng-change="submitFacetSearch(aggregations)" > et <input type="number" min="{{ facet.buckets[0].fromAsString }}" max="{{ facet.buckets[0].toAsString }}" ng-model="facet.buckets[0].top" ng-change="submitFacetSearch(aggregations)" ></div><div ng-if="panistConfigDefault.slider"><rzslider class="rzslider" rz-slider-floor="facet.buckets[0].fromAsString" rz-slider-ceil="facet.buckets[0].toAsString" rz-slider-model="facet.buckets[0].bot" rz-slider-high="facet.buckets[0].top" rz-slider-step="1" ></rzslider></div></div><div class="panist-facet-quality" ng-switch-when="score" ng-if="shownFacet"><div ng-if="!panistConfigDefault.slider">Entre <input type="number" min="0" max="10" ng-model="facet.buckets[0].bot" ng-change="submitFacetSearch(aggregations)" > et <input type="number" min="0" max="10" ng-model="facet.buckets[0].top" ng-change="submitFacetSearch(aggregations)" ></div><div ng-if="panistConfigDefault.slider"><rzslider class="rzslider" rz-slider-floor="0" rz-slider-ceil="10" rz-slider-model="facet.buckets[0].bot" rz-slider-high="facet.buckets[0].top" rz-slider-step="1" ></rzslider></div></div><div class="panist-facet-checkbox {{ facetName }}" ng-switch-default><li ng-repeat="badge in facet.buckets" title="{{badge.key | capitalize}}"><label><input type="checkbox" ng-model="badge.isChecked" ng-click="submitFacetSearch(aggregations)" >{{ badge.key  | capitalize | ellipse:false:27:"..."   }}<span class="panist-facet-checkbox-badge" >{{ badge.docCount | numberize }}</span></label></li></div></div></div></form></div></div>'}}),app.controller("PanistfacetsCtrl",["$scope","$rootScope","$timeout","panistFacetsService",function($scope,$rootScope,$timeout,panistFacetsService){$rootScope.showFacets=!1,$rootScope.shownFacet=$rootScope.panistConfigDefault.shownFacet,$rootScope.queriedFacets={},$rootScope.panistConfigDefault.slider&&$scope.$on("slideEnded",function(){$scope.submitFacetSearch($scope.aggregations)}),$scope.submitFacetSearch=function(list){$rootScope.showResults=!1,$rootScope.showLoading=!0,panistFacetsService.facetSearch($scope,list).success(function(result){if($rootScope.showError=!1,$rootScope.searchTimeB=(new Date).getTime(),$rootScope.totalSearchTime=(($rootScope.searchTimeB-$rootScope.searchTimeA)/1e3).toFixed(2),$rootScope.noresult=0===result.total,!$rootScope.noresult){$rootScope.elasticSearchTime=(result.stats.elasticsearch.took/1e3).toFixed(2),$rootScope.panistSearchTime=(result.stats["istex-api"].took/1e3).toFixed(2),$rootScope.reseauSearchTime=($rootScope.totalSearchTime-$rootScope.elasticSearchTime-$rootScope.panistSearchTime).toFixed(2),$rootScope.documents=result.hits,$rootScope.total=result.total,$rootScope.nextPageURI=result.nextPageURI,result.aggregations&&result.aggregations.publicationDate&&!$rootScope.queriedFacets.publicationDate&&(result.aggregations.publicationDate.buckets[0].top=parseInt(result.aggregations.publicationDate.buckets[0].toAsString),result.aggregations.publicationDate.buckets[0].bot=parseInt(result.aggregations.publicationDate.buckets[0].fromAsString||0)),result.aggregations&&result.aggregations.copyrightDate&&!$rootScope.queriedFacets.copyrightDate&&(result.aggregations.copyrightDate.buckets[0].top=parseInt(result.aggregations.copyrightDate.buckets[0].toAsString),result.aggregations.copyrightDate.buckets[0].bot=parseInt(result.aggregations.copyrightDate.buckets[0].fromAsString||0)),result.aggregations&&result.aggregations.score&&!$rootScope.queriedFacets.score&&(result.aggregations.score.buckets[0].top=10,result.aggregations.score.buckets[0].bot=0);for(var prop in $rootScope.queriedFacets)$rootScope.queriedFacets.hasOwnProperty(prop)&&("wos"==prop?result.aggregations["categories.wos"]=$rootScope.queriedFacets[prop]:"inist"==prop?result.aggregations["categories.inist"]=$rootScope.queriedFacets[prop]:"scopus"==prop?result.aggregations["categories.scopus"]=$rootScope.queriedFacets[prop]:"scienceMetrix"==prop?result.aggregations["categories.scienceMetrix"]=$rootScope.queriedFacets[prop]:"teeft"==prop?result.aggregations["keywords.teeft"]=$rootScope.queriedFacets[prop]:result.aggregations[prop]=$rootScope.queriedFacets[prop]);$rootScope.aggregations=result.aggregations,$rootScope.queriedFacets={},$rootScope.maxPagesInPagination=$rootScope.panistConfigDefault.maxPagesInPagination,$rootScope.nbrPages=Math.ceil($rootScope.total/$rootScope.panistConfigDefault.pageSize),$rootScope.firstPageURI={id:1},$rootScope.lastPageURI={id:$rootScope.nbrPages},$rootScope.nbrPages<$rootScope.maxPagesInPagination&&($rootScope.maxPagesInPagination=$rootScope.nbrPages),$rootScope.pageCourante=1;var tab=[];for(i=1;i<=$rootScope.maxPagesInPagination;i++)tab.push({id:i});$rootScope.pages=tab,$rootScope.showResults=!0,$rootScope.showLoading=!1}}).error(function(e){$rootScope.showLoading=!1,$rootScope.showError=!0,console.log("ERROR : Corpus Search")})}}]),app.factory("panistFacetsService",["$http","$rootScope",function($http,$rootScope){return{facetSearch:function(scope,list){function corpusMaker(element,index,array){element.isChecked&&(corpus+=element.key+between)}function wosMaker(element,index,array){element.isChecked&&(wos+='"'+element.key.replace("&","%26")+'"'+between)}function inistMaker(element,index,array){element.isChecked&&(inist+='"'+element.key.replace("&","%26")+'"'+between)}function scopusMaker(element,index,array){element.isChecked&&(scopus+='"'+element.key.replace("&","%26")+'"'+between)}function scienceMetrixMaker(element,index,array){element.isChecked&&(scienceMetrix+='"'+element.key.replace("&","%26")+'"'+between)}function teeftMaker(element,index,array){element.isChecked&&(teeft+='"'+element.key.replace("&","%26")+'"'+between)}function languageMaker(element,index,array){element.isChecked&&(language+=element.key+between)}function genreMaker(element,index,array){element.isChecked&&(genre+=element.key+between)}var tmp,url=$rootScope.currentPageURI,between=" OR ",nbrCharBetween=between.length,corpus=" AND corpusName:(";list.corpusName&&list.corpusName.buckets.forEach(corpusMaker),corpus=" AND corpusName:("!=corpus?corpus.substring(0,corpus.length-nbrCharBetween)+")":corpus="",tmp=url.split("&"),tmp[0]+=corpus,corpus&&($rootScope.queriedFacets.corpusName=list.corpusName)," AND corpusName:("!==corpus&&(url=tmp.join("&"));var language=" AND language:(";list.language&&list.language.buckets.forEach(languageMaker),language=" AND language:("!=language?language.substring(0,language.length-nbrCharBetween)+")":language="",tmp=url.split("&"),tmp[0]+=language,language&&($rootScope.queriedFacets.language=list.language)," AND language:("!==language&&(url=tmp.join("&"));var wos=" AND categories.wos:(";list["categories.wos"]&&list["categories.wos"].buckets.forEach(wosMaker),wos=" AND categories.wos:("!=wos?wos.substring(0,wos.length-nbrCharBetween)+")":wos="",tmp=url.split("&"),tmp[0]+=wos,wos&&($rootScope.queriedFacets.wos=list["categories.wos"])," AND categories.wos:("!==wos&&(url=tmp.join("&"));var inist=" AND categories.inist:(";list["categories.inist"]&&list["categories.inist"].buckets.forEach(inistMaker),inist=" AND categories.inist:("!=inist?inist.substring(0,inist.length-nbrCharBetween)+")":inist="",tmp=url.split("&"),tmp[0]+=inist,inist&&($rootScope.queriedFacets.inist=list["categories.inist"])," AND categories.inist:("!==inist&&(url=tmp.join("&"));var scopus=" AND categories.scopus:(";list["categories.scopus"]&&list["categories.scopus"].buckets.forEach(scopusMaker),scopus=" AND categories.scopus:("!=scopus?scopus.substring(0,scopus.length-nbrCharBetween)+")":scopus="",tmp=url.split("&"),tmp[0]+=scopus,scopus&&($rootScope.queriedFacets.scopus=list["categories.scopus"])," AND categories.scopus:("!==scopus&&(url=tmp.join("&"));var teeft=" AND keywords.teeft.raw:(";list["keywords.teeft"]&&list["keywords.teeft"].buckets.forEach(teeftMaker),teeft=" AND keywords.teeft.raw:("!=teeft?teeft.substring(0,teeft.length-nbrCharBetween)+")":teeft="",tmp=url.split("&"),tmp[0]+=teeft,teeft&&($rootScope.queriedFacets.teeft=list["keywords.teeft"])," AND keywords.teeft.raw:("!==teeft&&(url=tmp.join("&"));var scienceMetrix=" AND categories.scienceMetrix:(";list["categories.scienceMetrix"]&&list["categories.scienceMetrix"].buckets.forEach(scienceMetrixMaker),scienceMetrix=" AND categories.scienceMetrix:("!=scienceMetrix?scienceMetrix.substring(0,scienceMetrix.length-nbrCharBetween)+")":scienceMetrix="",tmp=url.split("&"),tmp[0]+=scienceMetrix,scienceMetrix&&($rootScope.queriedFacets.scienceMetrix=list["categories.scienceMetrix"])," AND categories.scienceMetrix:("!==scienceMetrix&&(url=tmp.join("&"));var genre=" AND genre:(";list.genre&&list.genre.buckets.forEach(genreMaker),genre=" AND genre:("!=genre?genre.substring(0,genre.length-nbrCharBetween)+")":genre="",tmp=url.split("&"),tmp[0]+=genre,genre&&($rootScope.queriedFacets.genre=list.genre)," AND genre:("!==genre&&(url=tmp.join("&"));var facetURL="",rangeSlider=function(facetName,facet,topValue,botValue){var bot,top,facetURL=" AND "+facetName+":[";if(topValue||(topValue=parseInt(facet.buckets[0].toAsString)||facet.buckets[0].to),botValue||(botValue=parseInt(facet.buckets[0].fromAsString)||facet.buckets[0].from),facet){if(bot=parseInt(facet.buckets[0].bot),bot=!isNaN(bot)&&bot>botValue?Math.floor(bot):botValue,top=parseInt(facet.buckets[0].top),top=!isNaN(top)&&topValue>top?Math.ceil(top):topValue,bot>top){var tmp=bot;bot=top,top=tmp}return(bot!=botValue||top!=topValue)&&(facetURL+=bot+" TO "+top+"]"),facetURL}};return list.publicationDate&&(tmp=url.split("&"),facetURL=rangeSlider("publicationDate",list.publicationDate),tmp[0]+=facetURL," AND publicationDate:["!==facetURL&&($rootScope.queriedFacets.publicationDate=list.publicationDate),facetURL&&" AND publicationDate:["!==facetURL&&(url=tmp.join("&"))),list.copyrightDate&&(tmp=url.split("&"),facetURL=rangeSlider("copyrightDate",list.copyrightDate),tmp[0]+=facetURL," AND copyrightDate:["!==facetURL&&($rootScope.queriedFacets.copyrightDate=list.copyrightDate),facetURL&&" AND copyrightDate:["!==facetURL&&(url=tmp.join("&"))),list.score&&(tmp=url.split("&"),facetURL=rangeSlider("qualityIndicators.score",list.score),tmp[0]+=facetURL," AND qualityIndicators.score:["!==facetURL&&($rootScope.queriedFacets.score=list.score),facetURL&&" AND qualityIndicators.score:["!==facetURL&&(url=tmp.join("&"))),$rootScope.currentFacetsURI=url,$rootScope.searchTimeA=(new Date).getTime(),$http.jsonp(url+"&callback=JSON_CALLBACK")}}}]),app.directive("panistSearch",function(){return{template:'<div id="panist-widget-search" ng-controller="PanistsearchCtrl" ><form class="panist-search-form"><div class="input-group"><input class="form-control adding-logo-to-input" type="search" value="" placeholder="{{panistConfigDefault.labels.search.placeholder.main || \'Votre requête ici ...\'}}" ng-model="query" ng-focus="panistConfigDefault.focusInputQueryOnLoad"><span class="input-group-btn"><input type="submit" class="btn btn-default" ng-click="search()" value="Rechercher"></span></div><div class="panist-advanced-wrapper" ng-if="panistConfigDefault.advancedToLoad"><div class="panist-advanced-button" ng-click="toggleAdvanced()" ng-if="!panistConfigDefault.advancedExpanded"><a href="" >{{ (panistConfigDefault.labels.search["advancedTitle"] || "Recherche avancée") | capitalize}}</a></div><div class="panist-advanced-inputs"><div class="panist-advanced" ng-repeat="(advancedName, advanced) in advancedQuery" ng-show="showAdvanced"><h5 class="panist-advanced-name">{{ (panistConfigDefault.labels.search[advancedName] || advancedName) | capitalize}}</h5><div class="panist-advanced-{{advancedName}}" ><input class="panist-search-advanced-input" type="search" ng-model="advancedQuery[advancedName]" placeholder="{{panistConfigDefault.labels.search.placeholder[advancedName]}}"></div></div></div></div><p class="panist-search-error"></p><div class="panist-search-loading" title="Recherche en cours" ng-toggle="showLoading && !noresult" ></div></form></div>'}}),app.controller("PanistsearchCtrl",["$scope","$rootScope","panistSearchService",function($scope,$rootScope,panistSearchService){if($rootScope.showAdvanced=!1,$rootScope.showResults=!1,$rootScope.showLoading=!1,$rootScope.panistConfigDefault.advancedToLoad&&($scope.advancedQuery=$rootScope.panistConfigDefault.advancedToLoad),$rootScope.panistConfigDefault.query!==!1){var q=$rootScope.panistConfigDefault.query;$rootScope.query=q?q.toString():""}$scope.search=function(){$rootScope.showResults=!1,$rootScope.showFacets=!1,$rootScope.showLoading=!0,0==panistSearchService.search($scope)?($rootScope.showLoading=!1,$rootScope.showSelectEtab=!0):panistSearchService.search($scope).success(function(result){if($rootScope.showError=!1,$rootScope.showSelectEtab=!1,$rootScope.searchTimeB=(new Date).getTime(),$rootScope.totalSearchTime=(($rootScope.searchTimeB-$rootScope.searchTimeA)/1e3).toFixed(2),$rootScope.noresult=0===result.total,!$rootScope.noresult){$rootScope.elasticSearchTime=(result.stats.elasticsearch.took/1e3).toFixed(2),$rootScope.panistSearchTime=(result.stats["istex-api"].took/1e3).toFixed(2),$rootScope.reseauSearchTime=($rootScope.totalSearchTime-$rootScope.elasticSearchTime-$rootScope.panistSearchTime).toFixed(2),$rootScope.documents=result.hits,$rootScope.total=result.total,$rootScope.nextPageURI=result.nextPageURI,$rootScope.aggregations=result.aggregations,$rootScope.aggregations&&$rootScope.aggregations.publicationDate&&($rootScope.aggregations.publicationDate.buckets[0].top=parseInt($rootScope.aggregations.publicationDate.buckets[0].toAsString),$rootScope.aggregations.publicationDate.buckets[0].bot=parseInt($rootScope.aggregations.publicationDate.buckets[0].fromAsString||0)),$rootScope.aggregations&&$rootScope.aggregations.copyrightDate&&($rootScope.aggregations.copyrightDate.buckets[0].top=parseInt($rootScope.aggregations.copyrightDate.buckets[0].toAsString),$rootScope.aggregations.copyrightDate.buckets[0].bot=parseInt($rootScope.aggregations.copyrightDate.buckets[0].fromAsString||0)),$rootScope.aggregations&&$rootScope.aggregations.score&&($rootScope.aggregations.score.buckets[0].top=10,$rootScope.aggregations.score.buckets[0].bot=0),$rootScope.maxPagesInPagination=$rootScope.panistConfigDefault.maxPagesInPagination,$rootScope.nbrPages=Math.ceil($rootScope.total/$rootScope.panistConfigDefault.pageSize),$rootScope.firstPageURI={id:1},$rootScope.lastPageURI={id:$rootScope.nbrPages},$rootScope.nbrPages<$rootScope.maxPagesInPagination&&($rootScope.maxPagesInPagination=$rootScope.nbrPages),$rootScope.pageCourante=1;var tab=[];for(i=1;i<=$rootScope.maxPagesInPagination;i++)tab.push({id:i});$rootScope.pages=tab,$rootScope.showLoading=!1,$rootScope.showResults=!0,$rootScope.showFacets=!0}}).error(function(e){$rootScope.showLoading=!1,$rootScope.showError=!0,console.error("ERROR : Search"),console.error(e)})},$scope.toggleAdvanced=function(){if($rootScope.showAdvanced=!$rootScope.showAdvanced,!$rootScope.showAdvanced)for(var prop in $scope.advancedQuery)Object.prototype.hasOwnProperty.call($scope.advancedQuery,prop)&&($scope.advancedQuery[prop]="")},$rootScope.panistConfigDefault.advancedExpanded&&$scope.toggleAdvanced()}]),app.factory("panistSearchService",["$http","$rootScope",function($http,$rootScope){return{search:function(scope){var idc,url=$rootScope.panistConfigDefault.panistApi,selectedObj=localStorage.getItem("idc");if(void 0!=selectedObj)try{idc=JSON.parse(localStorage.getItem("idc")).value.id}catch(e){return console.log(e),!1}var idcFromConfigFile=$rootScope.panistConfigDefault.idc;if((null==idc||void 0==idc)&&(idc=idcFromConfigFile),void 0!=idc&&null!=idc&&""!=idc.trim()){url+="/document/?q=";var query=scope.query?scope.query.toString():"",advanced=this.advancedSearch(scope.advancedQuery);url+=""!=query?query:"*",url+=""!=advanced?advanced:"",url+=" AND grantees.raw:"+idc,url+=" &output=*",url+="&stats=1",$rootScope.defaultSort?url+="&sortBy="+$rootScope.defaultSort:$rootScope.panistConfigDefault.defaultSort&&(url+="&sortBy="+$rootScope.panistConfigDefault.defaultSort);var operator="&defaultOperator="+$rootScope.panistConfigDefault.operator,facets="&facet="+$rootScope.panistConfigDefault.facetsToLoad.join(),size="&size="+$rootScope.panistConfigDefault.pageSize;return url+=operator+facets+size+"&sid=panist-widgets",$rootScope.currentPageURI=url,$rootScope.searchTimeA=(new Date).getTime(),$http.jsonp(url+"&callback=JSON_CALLBACK")}return!1},advancedSearch:function(advancedQuery){var advanced="";for(var prop in advancedQuery)Object.prototype.hasOwnProperty.call(advancedQuery,prop)&&""!=advancedQuery[prop]&&(advanced+=" AND "+prop+":"+advancedQuery[prop]);return advanced}}}]),app.directive("panistSelect2",function(){return{template:'<div id="panist-widget-select2" ng-controller="Panistselect2Ctrl" ><ui-select ng-model="selected.value" ng-change="update()" ><ui-select-match placeholder="Choisir un établissement"><span ng-bind="$select.selected.text"></span></ui-select-match><ui-select-choices repeat="item in (itemArray | filter: $select.search) track by item.id" ><span ng-bind="item.text" ></span></ui-select-choices></ui-select></div><br>'}}),app.controller("Panistselect2Ctrl",["$scope","$rootScope","$http",function($scope,$rootScope,$http){$scope.update=function(){localStorage.setItem("idc",JSON.stringify($rootScope.selected))},$http.get("listeInstitutions.json").then(function(res){$rootScope.itemArray=res.data,$rootScope.selected={},void 0!=localStorage.getItem("idc")&&($rootScope.selected=JSON.parse(localStorage.getItem("idc")))})}]),app.factory("panistSelect2Service",["$http","$rootScope",function($http,$rootScope){return{etabListChange:function(scope){}}}]),app.directive("panistResults",function(){return{template:'<div class="panist-results-noresult" ng-show="noresult">{{panistConfigDefault.labels.results.noresult || "Il n\'y a pas de résultat à afficher !"}}</div><div class="panist-results-error" ng-show="showError">Une erreur est survenue, veuillez réessayer plus tard. Si cette erreur persiste, vous pouvez envoyer un mail à <a href="mailto:panist-contact@univ-lorraine.fr" target="_blank">l\'équipe PANIST-SNU</a></div><div class="panist-results-error" ng-show="showSelectEtab"><div class="alert alert-warning" role="alert">Veuillez sélectionner un établissement</div></div><div class="panist-hidebutton" ng-click="panistConfigDefault.hideButton = false;" ng-show="!noresult && panistConfigDefault.hideButton && !showError" title="{{panistConfigDefault.labels.results.showResult || \'Cliquez pour afficher les résultats\'}}">{{ total || ". . . . . . . . ." | numberize }} documents</div><div id="panist-widget-results" style="opacity: 1;" ng-controller="PanistresultsCtrl" ng-toggle="showResults" ng-show="!noresult && !panistConfigDefault.hideButton"><div class="panist-results-items-stats" ng-toggle="!hideStats">Environ {{ total | numberize }} résultats <span title="Réseau : {{reseauSearchTime}} sec, Moteur de recherche : {{elasticSearchTime}} sec, Traitements de l\'API : {{panistSearchTime}} sec" ng-if="panistConfigDefault.showQuerySpeed">({{totalSearchTime}} secondes)</span></div><div class="panist-results-sort" ><select class="input-sm form-control" ng-model="defaultSort" ng-change="sortBy(defaultSort)" ><option ng-repeat="sort in panistConfigDefault.possibleSorts" value="{{sort.value}}">{{sort.name}}</option></select></div><div class="panist-results-pagination" ng-if="panistConfigDefault.showPaginationTop"><a href="" class="panist-results-pagination-prec" title="Page précédente" ng-click="selectPage(pageCourante-1)" ng-if="pageCourante !== firstPageURI.id"> < </a><ul class="panist-results-pagination-plist"><li ng-repeat="page in pages" ><a href="" ng-click="selectPage(page.id)" ng-if="pageCourante !== page.id ">{{page.id}}</a><span class="panist-results-pagination-page-selected" ng-if="pageCourante === page.id">{{page.id}}</span></li></ul><a href="" class="panist-results-pagination-next" title="Page suivante" ng-click="selectPage(pageCourante+1)" ng-if="pageCourante !== lastPageURI.id"> > </a></div><ol class="panist-results-items" ng-toggle="!hideResults"><li class="panist-results-item" ng-repeat="document in documents"><a class="panist-results-item-title" target="_blank" ng-if="panistConfigDefault.resultContent.title" ng-href="{{document.fulltext[0].uri | sidize | proxify:panistConfigDefault.proxyApi }}" >{{ document.title | ellipse:true:panistConfigDefault.titleLength:"..." }}</a><p class="panist-results-item-abstract" ng-if="document.abstract && panistConfigDefault.resultContent.abstract" title="{{ document.abstract }}">{{ document.abstract | ellipse:false:panistConfigDefault.abstractLength:"..."  }}</p><p class="panist-results-item-abstract" title="Pas de résumé" ng-if="!document.abstract  && panistConfigDefault.resultContent.abstract">{{ panistConfigDefault.labels.results[\'abstract\'] || "Pas de résumé disponible pour cet article" }}</p><p class="panist-results-item-author" ng-if="panistConfigDefault.resultContent.author" ><span ng-repeat="author in document.author">{{author.name}}. </span></p><p class="panist-results-item-journal" ng-if="panistConfigDefault.resultContent.journal">{{document.host.title}} vol.{{document.host.volume}}, page {{document.host.pages.first}} - {{document.host.pages.last}}</p><div class="panist-tag" ng-repeat="(name, value) in panistConfigDefault.tags"><span ng-if="name==\'genre\'" ng-repeat="genre in document.genre" class="panist-tag">{{value}} {{ genre | capitalize }}</span><span ng-if="name!=\'genre\'" class="panist-tag">{{value}} {{ document[name] | capitalize }}</span></div><div ng-if="panistConfigDefault.qualityIndicator"><b>Qualité du fulltext</b> : <div class="star-rating" title="{{document.qualityIndicators.score}}"><div class="full-star" ng-style="{width: \'{{document.qualityIndicators.score*10 || 0}}%\'}"></div><div class="empty-star">{{document.qualityIndicators.score || 0}}</div></div></div><div class="downloads"><div class="download fulltext" ng-show="showFulltext"><h4>{{ panistConfigDefault.labels.results["fulltext"] || "Fulltext" }}</h4><ul class="panist-results-item-download"><li class="panist-results-item-dl fulltext" ng-repeat="fulltext in document.fulltext"><a ng-href="{{ fulltext.uri | sidize | proxify:panistConfigDefault.proxyApi }}" class="panist-results-item-dl-{{ fulltext.extension }}" title="Télécharger le fichier {{ fulltext.extension | uppercase }}" target="_blank">{{ fulltext.extension | uppercase }}</a></li></ul></div><div class="download metadata" ng-show="showMetadonnee"><h4>{{ (panistConfigDefault.labels.results["metadata"] || "Metadata") }}</h4><ul class="panist-results-item-download metadata"><li class="panist-results-item-dl" ng-repeat="metadata in document.metadata"><a ng-href="{{ metadata.uri | sidize | proxify:panistConfigDefault.proxyApi }}" class="panist-results-item-dl-{{ metadata.extension }}" title="Télécharger le fichier {{ metadata.extension | uppercase }}" target="_blank">{{ metadata.extension | uppercase }}</a></li></ul></div><div class="download enrichment" ng-if="document.enrichments"><h4>{{ (panistConfigDefault.labels.results["enrichment"] || "Enrichissements") }}</h4><ul class="panist-results-item-download enrichment"><li class="panist-results-item-dl" ng-repeat="(name, enrichment) in document.enrichments"><a ng-href="{{ enrichment[0].uri | sidize | proxify:panistConfigDefault.proxyApi }}" class="panist-results-item-dl-{{ enrichment[0].extension }}" title="Télécharger le fichier {{ name }}" target="_blank">XML</a></li></ul></div></div><div class="panist-results-item-bottom"></div><hr style="border-top-color: black;"/></li></ol><div class="panist-results-pagination" ng-if="panistConfigDefault.showPaginationBot"><a href="#panist-widget-search" class="panist-results-pagination-prec" title="Page précédente" ng-click="selectPage(pageCourante-1)" ng-if="pageCourante !== firstPageURI.id"> < </a><ul class="panist-results-pagination-plist"><li ng-repeat="page in pages" ><a href="#panist-widget-search" ng-click="selectPage(page.id)" ng-if="pageCourante !== page.id ">{{page.id}}</a><span class="panist-results-pagination-page-selected" ng-if="pageCourante === page.id">{{page.id}}</span></li></ul><a href="#panist-widget-search" class="panist-results-pagination-next" title="Page suivante" ng-click="selectPage(pageCourante+1)" ng-if="pageCourante !== lastPageURI.id"> > </a></div></div>'
}}),app.controller("PanistresultsCtrl",["$scope","$rootScope","panistResultsService",function($scope,$rootScope,panistResultsService){$rootScope.showResults=!1,$rootScope.showFulltext=$rootScope.panistConfigDefault.showFulltext,$rootScope.showMetadonnee=$rootScope.panistConfigDefault.showMetadonnee,$rootScope.defaultSort=$rootScope.panistConfigDefault.defaultSort,$rootScope.panistConfigDefault.query!==!1&&($rootScope.showLoading=!0),$rootScope.panistConfigDefault.query!==!1&&panistResultsService.defaultSearch($rootScope.panistConfigDefault.query).success(function(result){if($rootScope.showError=!1,$rootScope.searchTimeB=(new Date).getTime(),$rootScope.totalSearchTime=(($rootScope.searchTimeB-$rootScope.searchTimeA)/1e3).toFixed(2),$rootScope.noresult=0===result.total,!$rootScope.noresult){$rootScope.elasticSearchTime=(result.stats.elasticsearch.took/1e3).toFixed(2),$rootScope.panistSearchTime=(result.stats["istex-api"].took/1e3).toFixed(2),$rootScope.reseauSearchTime=($rootScope.totalSearchTime-$rootScope.elasticSearchTime-$rootScope.panistSearchTime).toFixed(2),$rootScope.documents=result.hits,$rootScope.total=result.total,$rootScope.nextPageURI=result.nextPageURI,$rootScope.aggregations=result.aggregations,$rootScope.aggregations.publicationDate&&($rootScope.aggregations.publicationDate.buckets[0].top=parseInt($rootScope.aggregations.publicationDate.buckets[0].toAsString),$rootScope.aggregations.publicationDate.buckets[0].bot=parseInt($rootScope.aggregations.publicationDate.buckets[0].fromAsString||0)),$rootScope.aggregations.copyrightDate&&($rootScope.aggregations.copyrightDate.buckets[0].top=parseInt($rootScope.aggregations.copyrightDate.buckets[0].toAsString),$rootScope.aggregations.copyrightDate.buckets[0].bot=parseInt($rootScope.aggregations.copyrightDate.buckets[0].fromAsString||0)),$rootScope.aggregations.score&&($rootScope.aggregations.score.buckets[0].top=10,$rootScope.aggregations.score.buckets[0].bot=0),$rootScope.maxPagesInPagination=$rootScope.panistConfigDefault.maxPagesInPagination,$rootScope.nbrPages=Math.ceil($rootScope.total/$rootScope.panistConfigDefault.pageSize),$rootScope.firstPageURI={id:1},$rootScope.lastPageURI={id:$rootScope.nbrPages},$rootScope.nbrPages<$rootScope.maxPagesInPagination&&($rootScope.maxPagesInPagination=$rootScope.nbrPages),$rootScope.pageCourante=1;var tab=[];for(i=1;i<=$rootScope.maxPagesInPagination;i++)tab.push({id:i});$rootScope.pages=tab,$rootScope.showResults=!0,$rootScope.showFacets=!0,$rootScope.showLoading=!1}}).error(function(e){$rootScope.showLoading=!1,$rootScope.showError=!0,console.error("ERROR : Default Search")}),$scope.selectPage=function(numPage){$rootScope.showLoading=!0;var page=(numPage-1)*$rootScope.panistConfigDefault.pageSize;$rootScope.panistConfigDefault.pageSize+page>$rootScope.panistConfigDefault.maxResults&&(page=$rootScope.panistConfigDefault.maxResults-$rootScope.panistConfigDefault.pageSize,numPage=page/$rootScope.panistConfigDefault.pageSize+1),$rootScope.pageCourante=numPage,$rootScope.pageCourante>=1+Math.ceil($rootScope.maxPagesInPagination/2)&&$rootScope.pageCourante<=$rootScope.nbrPages-Math.ceil($rootScope.maxPagesInPagination/2)?($rootScope.pageStart=$rootScope.pageCourante-Math.floor($rootScope.maxPagesInPagination/2-.5),$rootScope.pageEnd=$rootScope.pageCourante+Math.ceil($rootScope.maxPagesInPagination/2-.5)):$rootScope.pageCourante<1+Math.ceil($rootScope.maxPagesInPagination/2)?($rootScope.pageStart=1,$rootScope.pageEnd=$rootScope.maxPagesInPagination):$rootScope.pageCourante>$rootScope.nbrPages-Math.ceil($rootScope.maxPagesInPagination/2)&&($rootScope.pageStart=$rootScope.nbrPages-$rootScope.maxPagesInPagination+1,$rootScope.pageEnd=$rootScope.nbrPages);var tab=[];for(i=$rootScope.pageStart;i<=$rootScope.pageEnd;i++)tab.push({id:i});$rootScope.pages=tab,$rootScope.hideResults=!0,$rootScope.hideStats=!0,panistResultsService.search(page).success(function(result){$rootScope.showError=!1,$rootScope.searchTimeB=(new Date).getTime(),$rootScope.totalSearchTime=(($rootScope.searchTimeB-$rootScope.searchTimeA)/1e3).toFixed(2),$rootScope.elasticSearchTime=(result.stats.elasticsearch.took/1e3).toFixed(2),$rootScope.panistSearchTime=(result.stats["istex-api"].took/1e3).toFixed(2),$rootScope.reseauSearchTime=($rootScope.totalSearchTime-$rootScope.elasticSearchTime-$rootScope.panistSearchTime).toFixed(2),$rootScope.documents=result.hits,$rootScope.nextPageURI=result.nextPageURI,$rootScope.hideResults=!1,$rootScope.hideStats=!1,$rootScope.showLoading=!1}).error(function(e){$rootScope.showLoading=!1,$rootScope.showError=!0,console.error("ERROR : Pagination")})},$scope.sortBy=function(sort){$rootScope.showLoading=!0,$rootScope.hideResults=!0,$rootScope.hideStats=!0,$rootScope.panistConfigDefault.defaultSort?$rootScope.defaultSort=sort+","+$rootScope.panistConfigDefault.defaultSort:$rootScope.defaultSort=sort,panistResultsService.sortedSearch(sort).success(function(result){$rootScope.showError=!1,$rootScope.searchTimeB=(new Date).getTime(),$rootScope.totalSearchTime=(($rootScope.searchTimeB-$rootScope.searchTimeA)/1e3).toFixed(2),$rootScope.elasticSearchTime=(result.stats.elasticsearch.took/1e3).toFixed(2),$rootScope.panistSearchTime=(result.stats["istex-api"].took/1e3).toFixed(2),$rootScope.reseauSearchTime=($rootScope.totalSearchTime-$rootScope.elasticSearchTime-$rootScope.panistSearchTime).toFixed(2),$rootScope.documents=result.hits,$rootScope.nextPageURI=result.nextPageURI,$rootScope.pageCourante=1,$rootScope.hideResults=!1,$rootScope.hideStats=!1,$rootScope.showLoading=!1}).error(function(e){$rootScope.showLoading=!1,$rootScope.showError=!0,console.error("ERROR : SortBy")})}}]),app.factory("panistResultsService",["$http","$rootScope",function($http,$rootScope){return{search:function(page){var url=$rootScope.currentPageURI;$rootScope.currentFacetsURI&&(url=$rootScope.currentFacetsURI);var from="&from=";return from+=page,url+=from,$rootScope.searchTimeA=(new Date).getTime(),$http.jsonp(url+"&callback=JSON_CALLBACK")},defaultSearch:function(q){var url=$rootScope.panistConfigDefault.panistApi;url+="/document/?q=";var query=q?q.toString():"";url+=""!=query?query:"*",url+="&stats=1",$rootScope.defaultSort?url+="&sortBy="+$rootScope.defaultSort:$rootScope.panistConfigDefault.defaultSort&&(url+="&sortBy="+$rootScope.panistConfigDefault.defaultSort);var operator="&defaultOperator="+$rootScope.panistConfigDefault.operator,facets="&facet="+$rootScope.panistConfigDefault.facetsToLoad.join(),size="&size="+$rootScope.panistConfigDefault.pageSize;return url+=operator+facets+size+"&sid=panist-widgets",$rootScope.currentPageURI=url,$rootScope.searchTimeA=(new Date).getTime(),$http.jsonp(url+"&callback=JSON_CALLBACK")},sortedSearch:function(sort){var defaultSort=$rootScope.panistConfigDefault.defaultSort,url="",sortByRegexp=/(&sortBy=)[a-zA-Z\[\],]*(&?)/;return defaultSort&&(sort+=","+defaultSort),defaultSort||sort?(url=$rootScope.currentPageURI.replace(sortByRegexp,"$1"+sort+"$2"),$rootScope.currentPageURI=url,$rootScope.currentFacetsURI&&(url=$rootScope.currentFacetsURI.replace(sortByRegexp,"$1"+sort+"$2"),$rootScope.currentFacetsURI=url)):(url=$rootScope.currentPageURI.replace(sortByRegexp,""),$rootScope.currentPageURI=url,$rootScope.currentFacetsURI&&(url=$rootScope.currentFacetsURI.replace(sortByRegexp,""),$rootScope.currentFacetsURI=url)),sort&&-1==url.indexOf("sortBy")&&(url=$rootScope.currentPageURI+"&sortBy="+sort,$rootScope.currentPageURI=url,$rootScope.currentFacetsURI&&(url=$rootScope.currentFacetsURI+"&sortBy="+sort,$rootScope.currentFacetsURI=url)),$rootScope.searchTimeA=(new Date).getTime(),$http.jsonp(url+"&callback=JSON_CALLBACK")}}}]),app.run(["$rootScope",function($rootScope){$rootScope.panistConfigDefault={panistApi:"https://api.panist.fr",proxyApi:"https://api.panist.fr",query:!1,operator:"AND",focusInputQueryOnLoad:!1,facetsToLoad:["genre","corpusName","publicationDate","copyrightDate","language","categories.wos","categories.inist","score"],hideButton:!1,advancedToLoad:{"author.name":"",genre:"","host.title":"","host.genre":"","subject.value":"",language:""},advancedExpanded:!1,slider:!0,showPaginationTop:!0,showPaginationBot:!0,maxResults:1e4,pageSize:10,maxPagesInPagination:10,abstractLength:250,titleLength:150,fullTextOnTitle:"pdf",showQuerySpeed:!0,shownFacet:!0,resultContent:{title:!0,"abstract":!0,author:!0,journal:!0},tags:{publicationDate:"Publié en",corpusName:"",genre:"Type :"},defaultSort:"",possibleSorts:[{value:"",name:"Pertinence"},{value:"score[desc]",name:"Qualité du fulltext"},{value:"publicationDate",name:"Date de publication (croissant)"},{value:"publicationDate[desc]",name:"Date de publication (décroissant)"}],qualityIndicator:!1,labels:{search:{advancedTitle:"Recherche avancée","author.name":"Auteur","host.title":"Titre de la collection",genre:"Genre du document","host.genre":"Genre de la collection","subject.value":"Sujet du document",language:"Langue",placeholder:{main:"Votre requête ici ...","author.name":"ex : Dijkstra","host.editor.name":"","host.title":"ex : Journal of Algebra",genre:"ex : article, paper, ...","host.genre":" ex : ebook, reviews, ...","subject.value":"ex : cell division",language:"3 lettres : fre, eng, ita, ..."}},results:{noresult:"Pas de résultat (Faites attention quand vous utilisez plusieurs facettes)",showResult:"Affichez les résultats","abstract":"Pas de résumé",fulltext:"Texte complet",metadata:"Métadonnées",enrichment:"Enrichissements"},facets:{title:"Affiner votre recherche",corpusName:"Corpus",publicationDate:"Date de publication",copyrightDate:"Début du copyright",score:"Qualité du fulltext","categories.wos":"Catégories WOS","categories.inist":"Cat. Pascal & Francis",language:"Langue",traduction:"fr"}}},window.panistConfig&&Object.getOwnPropertyNames(window.panistConfig).length>0&&($rootScope.panistConfigDefault=extend($rootScope.panistConfigDefault,window.panistConfig))}]),angular.element(document).ready(function(){angular.bootstrap(document,["app"])});